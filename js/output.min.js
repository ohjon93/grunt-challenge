/*! grunt-challenge 11-12-2014 */
"use strict";function loadStates(){for(var a=document.getElementsByName("state")[0],b=0;b<usStates.length;b++){var c=document.createElement("option");c.value=usStates[b].code;var d=document.createTextNode(usStates[b].name);c.appendChild(d),a.appendChild(c)}}function hideShowOccup(){var a=document.getElementsByName("occupationOther")[0];"other"!=occupation.value?(a.style.display="none",a.value=""):a.style.display="inline"}function leavePage(){var a=window.confirm("Are you sure you want to leave this amazing site?");1==a&&(window.location="http://google.com")}function zipValidation(a,b){var c=new RegExp("^\\d{5}$"),d=document.getElementsByName("zip")[0].value;return c.test(d)?(b[a].className="form-control",!0):(b[a].className="invalid-field form-control",!1)}function checkRequiredFields(a,b){return 0==b[a].value.trim().length?(b[a].className="invalid-field form-control",!1):(b[a].className="form-control",!0)}function formValidation(a){for(var b=["firstName","lastName","address1","city","state","zip","birthdate"],c=!0,d=0;d<b.length-2;d++)c&=checkRequiredFields(b[d],a);return c&=zipValidation(b[5],a),c&=zipValidation(b[6],a),"other"==occupation.value&&(c&=checkRequiredFields("occupationOther",a)),c}function validateBirth(a,b){var c=new Date,d=new Date(document.getElementById(a).value),e=c.getDate()-d.getUTCDate(),f=c.getMonth()-d.getUTCMonth(),g=c.getFullYear()-d.getUTCFullYear();return(0>f||0==f&&0>e)&&(g-=1),g>=13?(b[a].className="form-control",!0):(b[a].className="invalid-field form-control",document.getElementById("birthdateMessage").innerHTML("You must be at least 13 years old to sign up!"),!1)}function onSubmit(a){try{var b=formValidation(this);return!b&&a.preventDefault&&a.preventDefault(),a.returnValue=b,b}catch(c){alert("Exception: "+c)}}document.addEventListener("DOMContentLoaded",function(){loadStates(),occupation.addEventListener("change",hideShowOccup),cancelButton.addEventListener("click",leavePage);var a=document.getElementById("signup");a.addEventListener("submit",onSubmit)});var usStates=[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"American Samoa",code:"AS"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"District Of Columbia",code:"DC"},{name:"Federated States Of Micronesia",code:"FM"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Guam",code:"GU"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Marshall Islands",code:"MH"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Northern Mariana Islands",code:"MP"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Palau",code:"PW"},{name:"Pennsylvania",code:"PA"},{name:"Puerto Rico",code:"PR"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virgin Islands",code:"VI"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}];